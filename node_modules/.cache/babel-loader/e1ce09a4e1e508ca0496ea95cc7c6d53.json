{"ast":null,"code":"import React from\"react\";import PopupWithForm from\"./PopupWithForm.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(props){var avatarRef=React.useRef();// записываем объект, возвращаемый хуком, в переменную\n// при отерытии попапа поле будет пустое\nReact.useEffect(function(){avatarRef.current.value=\"\";},[props.isOpen]);function handleSubmit(evant){// Запрещаем браузеру переходить по адресу формы (перезагружать страницу)\nevant.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nprops.onUpdateAvatar({avatar:avatarRef.current.value// вызываем нужный метод на поле current объекта\n});}return/*#__PURE__*/_jsxs(PopupWithForm// попап аватара\n,{name:\"avatar\",nameForm:\"avatar-form\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",button:\"save-avatar\",text:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"edit-avatar-link\",name:\"avatar\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",className:\"popup__input popup__input_type_avatar\",required:true,ref:avatarRef// указали элементу атрибут ref => получили прямой доступ к DOM-элементу\n}),/*#__PURE__*/_jsx(\"span\",{id:\"edit-avatar-link-error\",className:\"error\"})]});}export default EditAvatarPopup;","map":{"version":3,"sources":["/Users/sasha/Desktop/Кодинг/mesto-react/src/components/EditAvatarPopup.js"],"names":["React","PopupWithForm","EditAvatarPopup","props","avatarRef","useRef","useEffect","current","value","isOpen","handleSubmit","evant","preventDefault","onUpdateAvatar","avatar","onClose"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,oBAA1B,C,wFAEA,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,GAAMC,CAAAA,SAAS,CAAGJ,KAAK,CAACK,MAAN,EAAlB,CAAkC;AAElC;AACAL,KAAK,CAACM,SAAN,CAAgB,UAAM,CACpBF,SAAS,CAACG,OAAV,CAAkBC,KAAlB,CAA0B,EAA1B,CACD,CAFD,CAEG,CAACL,KAAK,CAACM,MAAP,CAFH,EAIA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3B;AACAA,KAAK,CAACC,cAAN,GAEA;AACAT,KAAK,CAACU,cAAN,CAAqB,CACnBC,MAAM,CAAEV,SAAS,CAACG,OAAV,CAAkBC,KAAM;AADb,CAArB,EAGD,CAED,mBACE,MAAC,aAAc;AAAf,EACE,IAAI,CAAC,QADP,CAEE,QAAQ,CAAC,aAFX,CAGE,KAAK,CAAC,uFAHR,CAIE,MAAM,CAAC,aAJT,CAKE,IAAI,CAAC,wDALP,CAME,MAAM,CAAEL,KAAK,CAACM,MANhB,CAOE,OAAO,CAAEN,KAAK,CAACY,OAPjB,CAQE,QAAQ,CAAEL,YARZ,wBAUE,cACE,IAAI,CAAC,KADP,CAEE,EAAE,CAAC,kBAFL,CAGE,IAAI,CAAC,QAHP,CAIE,WAAW,CAAC,wFAJd,CAKE,SAAS,CAAC,uCALZ,CAME,QAAQ,KANV,CAOE,GAAG,CAAEN,SAAW;AAPlB,EAVF,cAmBI,aAAM,EAAE,CAAC,wBAAT,CAAkC,SAAS,CAAC,OAA5C,EAnBJ,GADF,CAuBD,CAED,cAAeF,CAAAA,eAAf","sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef(); // записываем объект, возвращаемый хуком, в переменную\n\n  // при отерытии попапа поле будет пустое\n  React.useEffect(() => {\n    avatarRef.current.value = \"\"\n  }, [props.isOpen])\n\n  function handleSubmit(evant) {\n    // Запрещаем браузеру переходить по адресу формы (перезагружать страницу)\n    evant.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value // вызываем нужный метод на поле current объекта\n    })\n  }\n\n  return (\n    <PopupWithForm // попап аватара\n      name=\"avatar\"\n      nameForm=\"avatar-form\"\n      title=\"Обновить аватар\"\n      button=\"save-avatar\"\n      text=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input \n        type=\"url\" \n        id=\"edit-avatar-link\" \n        name=\"avatar\" \n        placeholder=\"Ссылка на аватар\" \n        className=\"popup__input popup__input_type_avatar\" \n        required\n        ref={avatarRef} // указали элементу атрибут ref => получили прямой доступ к DOM-элементу\n        />\n        <span id=\"edit-avatar-link-error\" className=\"error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup"]},"metadata":{},"sourceType":"module"}